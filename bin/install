#!/usr/bin/env sh

install() {
  version=$2
  install_dir=$3

  build_dir=$(mktemp -d)
  cd $build_dir

  git clone --depth 1 https://github.com/ArthurSonzogni/Diagon
  cd Diagon
  mkdir build
  cd build
  cmake ..
  cmake --install . --prefix $install_dir
}

install $ASDF_INSTALL_TYPE $ASDF_INSTALL_VERSION $ASDF_INSTALL_PATH
